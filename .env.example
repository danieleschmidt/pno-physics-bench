# Environment Configuration for PNO Physics Bench
# Copy this file to .env and customize for your environment

# ========================================
# Core Application Settings
# ========================================

# Python path for module imports
PYTHONPATH=./src

# Application mode (development, production, testing)
APP_MODE=development

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=%(asctime)s - %(name)s - %(levelname)s - %(message)s

# ========================================
# Data and Storage Configuration
# ========================================

# Base directories
DATA_DIR=./data
RESULTS_DIR=./results
CHECKPOINTS_DIR=./checkpoints
CACHE_DIR=./cache

# Dataset specific settings
DATASET_CACHE_SIZE=1000
DATASET_WORKERS=4
DATASET_PIN_MEMORY=true

# ========================================
# Model Training Configuration
# ========================================

# Default training parameters
DEFAULT_BATCH_SIZE=32
DEFAULT_LEARNING_RATE=1e-3
DEFAULT_EPOCHS=100
DEFAULT_PATIENCE=10

# Model checkpointing
CHECKPOINT_FREQUENCY=10
SAVE_TOP_K=3
MONITOR_METRIC=val_loss

# ========================================
# Compute Configuration
# ========================================

# GPU/CUDA settings
CUDA_VISIBLE_DEVICES=0
CUDA_BENCHMARK=true
CUDA_DETERMINISTIC=false

# CPU/Memory settings
OMP_NUM_THREADS=4
MKL_NUM_THREADS=4
MEMORY_LIMIT_GB=16

# Distributed training
DISTRIBUTED_BACKEND=nccl
DISTRIBUTED_WORLD_SIZE=1
DISTRIBUTED_RANK=0

# ========================================
# Experiment Tracking
# ========================================

# Weights & Biases configuration
WANDB_MODE=online
WANDB_PROJECT=pno-physics-bench
WANDB_ENTITY=your-username
WANDB_API_KEY=your-wandb-api-key
WANDB_DIR=./wandb

# TensorBoard configuration
TENSORBOARD_LOG_DIR=./logs/tensorboard
TENSORBOARD_PORT=6006

# MLflow configuration
MLFLOW_TRACKING_URI=./mlruns
MLFLOW_EXPERIMENT_NAME=pno-experiments

# ========================================
# Uncertainty Quantification Settings
# ========================================

# Variational inference parameters
VI_KL_WEIGHT=1e-4
VI_NUM_SAMPLES=10
VI_KL_ANNEALING=true
VI_KL_ANNEALING_EPOCHS=50

# Monte Carlo settings
MC_SAMPLES_TRAIN=5
MC_SAMPLES_EVAL=100
MC_DROPOUT_RATE=0.1

# Ensemble settings
ENSEMBLE_SIZE=5
ENSEMBLE_DIVERSITY_WEIGHT=0.1

# ========================================
# Evaluation and Metrics
# ========================================

# Calibration settings
CALIBRATION_BINS=20
CALIBRATION_CONFIDENCE_LEVELS=0.5,0.8,0.9,0.95,0.99

# Rollout evaluation
ROLLOUT_STEPS=50
ROLLOUT_DT=0.01
ROLLOUT_UNCERTAINTY_THRESHOLD=0.1

# Performance monitoring
PROFILE_TRAINING=false
PROFILE_INFERENCE=false
MEMORY_PROFILING=false

# ========================================
# Visualization Settings
# ========================================

# Plotting configuration
PLOT_DPI=300
PLOT_FORMAT=png
PLOT_STYLE=seaborn-v0_8
SAVE_PLOTS=true

# Interactive visualization
PANEL_PORT=5007
BOKEH_PORT=5008
JUPYTER_PORT=8888

# ========================================
# Security and Authentication
# ========================================

# API keys and secrets (use secure storage in production)
API_SECRET_KEY=your-secret-key-here
JWT_SECRET_KEY=your-jwt-secret-here

# Database credentials (if using external storage)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=pno_physics_bench
DB_USER=postgres
DB_PASSWORD=your-db-password

# ========================================
# Development and Testing
# ========================================

# Development flags
DEBUG=false
DEVELOPMENT_MODE=false
VERBOSE_LOGGING=false

# Testing configuration
PYTEST_ARGS=-v --tb=short
COVERAGE_THRESHOLD=80
RUN_SLOW_TESTS=false
RUN_GPU_TESTS=true

# Code quality
BLACK_LINE_LENGTH=88
ISORT_PROFILE=black
FLAKE8_MAX_LINE_LENGTH=88

# ========================================
# Production Deployment
# ========================================

# Server configuration
HOST=0.0.0.0
PORT=8000
WORKERS=4
RELOAD=false

# Monitoring and observability
ENABLE_METRICS=true
METRICS_PORT=9090
HEALTH_CHECK_ENDPOINT=/health

# Resource limits
MAX_MEMORY_USAGE=8GB
MAX_GPU_MEMORY=6GB
REQUEST_TIMEOUT=300

# ========================================
# External Services
# ========================================

# Cloud storage (AWS S3, GCS, Azure)
CLOUD_PROVIDER=aws
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
S3_BUCKET=pno-physics-bench-data

# Redis (for caching and job queues)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=0

# Message queue (Celery, RQ)
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# ========================================
# Research and Reproducibility
# ========================================

# Random seeds
RANDOM_SEED=42
NUMPY_SEED=42
TORCH_SEED=42

# Reproducibility settings
TORCH_DETERMINISTIC=true
TORCH_BENCHMARK=false
CUBLAS_WORKSPACE_CONFIG=:4096:8

# Citation and metadata
EXPERIMENT_NAME=pno-baseline
EXPERIMENT_VERSION=v1.0
RESEARCHER_NAME=Your Name
INSTITUTION=Your Institution

# ========================================
# Advanced Configuration
# ========================================

# Custom configuration files
HYDRA_CONFIG_PATH=configs
HYDRA_CONFIG_NAME=config

# Plugin system
ENABLE_PLUGINS=true
PLUGIN_PATH=./plugins

# Feature flags
ENABLE_EXPERIMENTAL_FEATURES=false
ENABLE_ADVANCED_UNCERTAINTY=true
ENABLE_PHYSICS_INFORMED_LOSS=true

# ========================================
# Environment-Specific Overrides
# ========================================

# Override any setting for specific environments
# Production overrides
# WANDB_MODE=online
# LOG_LEVEL=WARNING
# DEBUG=false

# Testing overrides  
# WANDB_MODE=offline
# LOG_LEVEL=DEBUG
# RUN_SLOW_TESTS=false